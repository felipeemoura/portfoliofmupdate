<h1><i class="medium material-icons">dialpad</i> CALCULADORA</h1>

<div class="container">
    <div class="row fundo-grey">
        <div class="row div-calculo grey darken-4">
            <div id="resultCalc" class="display-number">0</div>
        </div>
        <div class="col s3">
            <a onclick="btnCalc(1)" class="waves-effect btn-calcular grey lighten-1 waves-light btn-large">1</a>
            <a onclick="btnCalc(4)" class="waves-effect btn-calcular grey lighten-1 waves-light btn-large">4</a>
            <a onclick="btnCalc(7)" class="waves-effect btn-calcular grey lighten-1 waves-light btn-large">7</a>
            <a onclick="btnCalc('C')" class="waves-effect btn-calcular orange accent-4 waves-light btn-large">C</a>
        </div>
        <div class="col s3">
            <a onclick="btnCalc(2)" class="waves-effect btn-calcular grey lighten-1 waves-light btn-large">2</a>
            <a onclick="btnCalc(5)" class="waves-effect btn-calcular grey lighten-1 waves-light btn-large">5</a>
            <a onclick="btnCalc(8)" class="waves-effect btn-calcular grey lighten-1 waves-light btn-large">8</a>
            <a onclick="btnCalc(0)" class="waves-effect btn-calcular grey lighten-1 waves-light btn-large">0</a>
        </div>
        <div class="col s3">
            <a onclick="btnCalc(3)" class="waves-effect btn-calcular grey lighten-1 waves-light btn-large">3</a>
            <a onclick="btnCalc(6)" class="waves-effect btn-calcular grey lighten-1 waves-light btn-large">6</a>
            <a onclick="btnCalc(9)" class="waves-effect btn-calcular grey lighten-1 waves-light btn-large">9</a>
            <a onclick="btnCalc('=')" class="waves-effect btn-calcular orange accent-4 waves-light btn-large">=</a>
        </div>
        <div class="col s3">
            <a onclick="btnCalc('+')" class="waves-effect btn-calcular grey darken-3 waves-light btn-large">+</a>
            <a onclick="btnCalc('-')" class="waves-effect btn-calcular grey darken-3 waves-light btn-large">-</a>
            <a onclick="btnCalc('*')" class="waves-effect btn-calcular grey darken-3 waves-light btn-large">*</a>
            <a onclick="btnCalc('/')" class="waves-effect btn-calcular grey darken-3 waves-light btn-large">/</a>
        </div>
    </div>
</div>


<script>
    function btnCalc(valor) {
        var result = $('#resultCalc').html()

        if (valor == 'C') {
            console.log('passei no c', result)
            $('#resultCalc').html(0)
        } else if (result == 0) {
            console.log('passei no 0', result)
            $('#resultCalc').html(valor)
        } else if (valor != '=') {
            console.log('passei no =', result)
            result = result + '' + valor
                // $('#resultCalc').html(result)
            let arrCalc1 = result.match(/\+/g) ? result.match(/\+/g).length : 0
            console.log('arrrcal', arrCalc1)

            if (valor != "=" && arrCalc1 == 1) {
                console.log('passando no novo if')
                $('#resultCalc').html(result)
            } else {
                console.log('passando no novo do else')
                var resultadoCalc = 0
                console.log('passando no result', result)
                if (result.split('+').length >= 2 && result.indexOf('+') > -1) {
                    console.log('passando no result do if', result)
                    result = result.split('+')
                    resultadoCalc = +result[0] + +result[1]
                    $('#resultCalc').html(resultadoCalc)
                }
            }

        }

    }
</script>